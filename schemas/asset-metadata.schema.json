{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://ai-infra-curriculum.github.io/schemas/asset-metadata.schema.json",
  "title": "Curriculum Asset Metadata",
  "type": "object",
  "required": [
    "id",
    "type",
    "title",
    "roles",
    "competencies",
    "status"
  ],
  "properties": {
    "id": {
      "type": "string",
      "description": "Stable identifier, e.g., MOD-01 or PROJ-02."
    },
    "type": {
      "type": "string",
      "enum": [
        "module",
        "exercise",
        "project",
        "assessment",
        "solution"
      ]
    },
    "title": {
      "type": "string"
    },
    "version": {
      "type": "string",
      "description": "Semantic version or revision tag for the asset."
    },
    "roles": {
      "type": "array",
      "items": {
        "type": "string",
        "description": "Role slug (e.g., platform-engineer)."
      },
      "minItems": 1
    },
    "stage": {
      "type": "string",
      "enum": [
        "foundational",
        "core",
        "advanced",
        "capstone"
      ],
      "description": "Position in the learning journey."
    },
    "proficiency_target": {
      "type": "string",
      "enum": [
        "awareness",
        "working",
        "proficient",
        "expert"
      ]
    },
    "competencies": {
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "id",
          "level"
        ],
        "properties": {
          "id": {
            "type": "string",
            "description": "Reference to a competency in the skills matrix."
          },
          "level": {
            "type": "string",
            "enum": [
              "awareness",
              "working",
              "proficient",
              "expert"
            ]
          }
        }
      }
    },
    "dependencies": {
      "type": "array",
      "items": {
        "type": "string",
        "description": "Asset IDs that must be completed first."
      }
    },
    "validation_profile": {
      "type": "string",
      "description": "Name of validation profile from configs/validation-profiles.yaml."
    },
    "shared_components": {
      "type": "array",
      "items": {
        "type": "string",
        "description": "Shared libraries or infrastructure modules referenced."
      }
    },
    "status": {
      "type": "string",
      "enum": [
        "draft",
        "in-review",
        "approved",
        "released"
      ]
    },
    "owners": {
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string"
          },
          "github": {
            "type": "string"
          },
          "role": {
            "type": "string",
            "enum": [
              "author",
              "reviewer",
              "approver"
            ]
          }
        }
      }
    },
    "evidence": {
      "type": "array",
      "items": {
        "type": "string",
        "description": "Links to research artifacts, validation reports, or SMEs."
      }
    },
    "metadata_version": {
      "type": "string",
      "const": "1.0.0"
    }
  },
  "additionalProperties": false
}
