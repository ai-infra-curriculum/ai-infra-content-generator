# Multi-Region ML Platform Configuration
# Copy this file to .env and configure with your actual values

# ==============================================================================
# CLOUD PROVIDER CONFIGURATION
# ==============================================================================
# TODO for students: Choose your cloud provider and configure credentials
CLOUD_PROVIDER=aws  # Options: aws, gcp, azure

# AWS Configuration
AWS_REGION=us-east-1
AWS_ACCOUNT_ID=123456789012
AWS_ACCESS_KEY_ID=your_access_key_here
AWS_SECRET_ACCESS_KEY=your_secret_key_here

# GCP Configuration
GCP_PROJECT_ID=your-project-id
GCP_REGION=us-central1
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json

# Azure Configuration
AZURE_SUBSCRIPTION_ID=your-subscription-id
AZURE_TENANT_ID=your-tenant-id
AZURE_RESOURCE_GROUP=ml-platform-rg
AZURE_LOCATION=eastus

# ==============================================================================
# MULTI-REGION CONFIGURATION
# ==============================================================================
# TODO for students: Define target regions for deployment
PRIMARY_REGION=us-east-1
SECONDARY_REGIONS=eu-west-1,ap-southeast-1
ALL_REGIONS=us-east-1,eu-west-1,ap-southeast-1

# Region-specific endpoints
# TODO for students: Update with actual endpoints after deployment
US_EAST_ENDPOINT=https://us-east-1.ml-platform.example.com
EU_WEST_ENDPOINT=https://eu-west-1.ml-platform.example.com
AP_SOUTHEAST_ENDPOINT=https://ap-southeast-1.ml-platform.example.com

# Global load balancer
GLOBAL_ENDPOINT=https://ml-platform.example.com

# ==============================================================================
# REPLICATION CONFIGURATION
# ==============================================================================
# TODO for students: Configure cross-region replication strategy
REPLICATION_STRATEGY=active-active  # Options: active-active, active-passive, multi-master
REPLICATION_LAG_THRESHOLD_MS=1000
REPLICATION_BATCH_SIZE=100
REPLICATION_INTERVAL_SECONDS=60

# Model replication
MODEL_REGISTRY_PRIMARY=s3://ml-models-us-east-1
MODEL_REGISTRY_REPLICAS=s3://ml-models-eu-west-1,s3://ml-models-ap-southeast-1
MODEL_SYNC_ENABLED=true

# Data replication
DATA_REPLICATION_ENABLED=true
DATA_CONSISTENCY_LEVEL=eventual  # Options: strong, eventual, causal

# ==============================================================================
# KUBERNETES CONFIGURATION
# ==============================================================================
# TODO for students: Configure K8s cluster settings per region
K8S_NAMESPACE=ml-platform
K8S_CLUSTER_NAME_PREFIX=ml-cluster

# US East cluster
US_EAST_CLUSTER_NAME=ml-cluster-us-east-1
US_EAST_KUBECONFIG=/path/to/kubeconfig-us-east-1

# EU West cluster
EU_WEST_CLUSTER_NAME=ml-cluster-eu-west-1
EU_WEST_KUBECONFIG=/path/to/kubeconfig-eu-west-1

# AP Southeast cluster
AP_SOUTHEAST_CLUSTER_NAME=ml-cluster-ap-southeast-1
AP_SOUTHEAST_KUBECONFIG=/path/to/kubeconfig-ap-southeast-1

# ==============================================================================
# LOAD BALANCING & ROUTING
# ==============================================================================
# TODO for students: Configure global traffic management
ROUTING_STRATEGY=geo-proximity  # Options: geo-proximity, latency-based, weighted
HEALTH_CHECK_INTERVAL_SECONDS=30
HEALTH_CHECK_TIMEOUT_SECONDS=5
HEALTH_CHECK_UNHEALTHY_THRESHOLD=3

# Failover configuration
FAILOVER_ENABLED=true
FAILOVER_AUTOMATIC=true
FAILOVER_THRESHOLD_ERROR_RATE=0.05  # 5% error rate triggers failover
FAILOVER_COOLDOWN_MINUTES=5

# ==============================================================================
# MONITORING & OBSERVABILITY
# ==============================================================================
# TODO for students: Configure monitoring stack
PROMETHEUS_ENABLED=true
PROMETHEUS_RETENTION_DAYS=15
GRAFANA_ENABLED=true
GRAFANA_ADMIN_PASSWORD=change_me_in_production

# Distributed tracing
JAEGER_ENABLED=true
JAEGER_SAMPLING_RATE=0.1  # 10% sampling

# Alerting
ALERTMANAGER_ENABLED=true
ALERT_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
ALERT_PAGERDUTY_KEY=your_pagerduty_integration_key
ALERT_EMAIL=ops@example.com

# ==============================================================================
# COST OPTIMIZATION
# ==============================================================================
# TODO for students: Configure cost tracking and optimization
COST_TRACKING_ENABLED=true
COST_BUDGET_MONTHLY_USD=10000
COST_ALERT_THRESHOLD=0.8  # Alert at 80% of budget

# Auto-scaling
AUTOSCALING_ENABLED=true
AUTOSCALING_MIN_REPLICAS=2
AUTOSCALING_MAX_REPLICAS=10
AUTOSCALING_TARGET_CPU_PERCENT=70

# Spot instances / preemptible VMs
SPOT_INSTANCES_ENABLED=true
SPOT_INSTANCES_MAX_PERCENT=50  # Max 50% of fleet can be spot

# ==============================================================================
# SECURITY & COMPLIANCE
# ==============================================================================
# TODO for students: Configure security settings
TLS_ENABLED=true
TLS_CERT_PATH=/path/to/tls.crt
TLS_KEY_PATH=/path/to/tls.key

# Encryption
ENCRYPTION_AT_REST_ENABLED=true
ENCRYPTION_IN_TRANSIT_ENABLED=true
KMS_KEY_ID=your-kms-key-id

# Network policies
NETWORK_POLICY_ENABLED=true
ALLOW_CIDR_BLOCKS=10.0.0.0/8,172.16.0.0/12

# ==============================================================================
# DISASTER RECOVERY
# ==============================================================================
# TODO for students: Configure backup and DR strategy
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_LOCATION=s3://ml-platform-backups

DR_ENABLED=true
DR_RPO_MINUTES=15  # Recovery Point Objective
DR_RTO_MINUTES=60  # Recovery Time Objective

# ==============================================================================
# DEPLOYMENT CONFIGURATION
# ==============================================================================
# TODO for students: Configure deployment settings
TERRAFORM_STATE_BUCKET=ml-platform-terraform-state
TERRAFORM_STATE_LOCK_TABLE=ml-platform-terraform-locks
TERRAFORM_VERSION=1.5.0

DEPLOYMENT_MODE=rolling  # Options: rolling, blue-green, canary
DEPLOYMENT_MAX_UNAVAILABLE=1
DEPLOYMENT_MAX_SURGE=1

# ==============================================================================
# APPLICATION SETTINGS
# ==============================================================================
# TODO for students: Configure application-specific settings
MODEL_SERVER_IMAGE=ml-platform/model-server:latest
MODEL_SERVER_PORT=8080
MODEL_SERVER_WORKERS=4

API_GATEWAY_IMAGE=ml-platform/api-gateway:latest
API_GATEWAY_PORT=443
API_RATE_LIMIT_PER_MINUTE=1000

# Database
DATABASE_TYPE=postgresql  # Options: postgresql, mysql, mongodb
DATABASE_PORT=5432
DATABASE_NAME=ml_platform
DATABASE_USER=ml_admin
DATABASE_PASSWORD=change_me_in_production
DATABASE_MAX_CONNECTIONS=100

# Cache
CACHE_TYPE=redis
CACHE_HOST=redis.ml-platform.svc.cluster.local
CACHE_PORT=6379
CACHE_TTL_SECONDS=3600

# ==============================================================================
# DEVELOPMENT & TESTING
# ==============================================================================
# TODO for students: Configure dev/test environment settings
ENVIRONMENT=production  # Options: development, staging, production
DEBUG_MODE=false
LOG_LEVEL=INFO  # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL

# Testing
DRY_RUN=false
FORCE_CLEANUP=false
SKIP_VALIDATION=false
